{
  "version": "1.0.0",
  "tools": [
    {
      "id": "npm",
      "name": "NPM",
      "description": "Node Package Manager",
      "detection": {
        "command": "npm",
        "arguments": [
          "--version"
        ]
      },
      "sources": [
        {
          "id": "npm-official",
          "name": "官方源",
          "url": "https://registry.npmjs.org/",
          "description": "npm 官方源"
        },
        {
          "id": "npm-taobao",
          "name": "淘宝源",
          "url": "https://registry.npmmirror.com/",
          "description": "淘宝镜像",
          "region": "CN"
        },
        {
          "id": "npm-tencent",
          "name": "腾讯云",
          "url": "https://mirrors.cloud.tencent.com/npm/",
          "description": "腾讯云镜像",
          "region": "CN"
        },
        {
          "id": "npm-huawei",
          "name": "华为云",
          "url": "https://mirrors.huaweicloud.com/repository/npm/",
          "description": "华为云镜像",
          "region": "CN"
        }
      ],
      "strategy": {
        "type": "command",
        "set": {
          "command": "npm",
          "arguments": [
            "config",
            "set",
            "registry",
            "{{url}}"
          ]
        },
        "get": {
          "command": "npm",
          "arguments": [
            "config",
            "get",
            "registry"
          ],
          "outputParser": "trim"
        }
      },
      "backup": {
        "filePath": "~/.npmrc",
        "backupFileName": ".npmrc.backup",
        "backupOriginal": true
      },
      "metadata": {
        "supportedPlatforms": [
          "macOS",
          "linux",
          "windows"
        ],
        "supportsSpeedTest": true,
        "documentationURL": "https://docs.npmjs.com/"
      }
    },
    {
      "id": "maven",
      "name": "Maven",
      "description": "Apache Maven",
      "detection": {
        "command": "mvn",
        "arguments": [
          "--version"
        ]
      },
      "sources": [
        {
          "id": "maven-official",
          "name": "官方源",
          "url": "https://repo.maven.apache.org/maven2/",
          "description": "Maven 中央仓库"
        },
        {
          "id": "maven-aliyun",
          "name": "阿里云",
          "url": "https://maven.aliyun.com/repository/public/",
          "description": "阿里云公共仓库",
          "region": "CN"
        },
        {
          "id": "maven-tencent",
          "name": "腾讯云",
          "url": "https://mirrors.cloud.tencent.com/nexus/repository/maven-public/",
          "description": "腾讯云 Maven 仓库",
          "region": "CN"
        },
        {
          "id": "maven-huawei",
          "name": "华为云",
          "url": "https://mirrors.huaweicloud.com/repository/maven/",
          "description": "华为云 Maven 仓库",
          "region": "CN"
        }
      ],
      "strategy": {
        "type": "xml",
        "filePath": "~/.m2/settings.xml",
        "set": {
          "xpath": "//mirrors/mirror[1]/url",
          "value": "{{url}}",
          "ensureStructure": {
            "createIfMissing": true,
            "defaultStructure": "<?xml version=\"1.0\" encoding=\"UTF-8\"?><settings><mirrors><mirror><id>mirror1</id><url>{{url}}</url><mirrorOf>*</mirrorOf></mirror></mirrors></settings>",
            "createParentDirectories": true
          }
        },
        "get": {
          "xpath": "//mirrors/mirror[1]/url"
        }
      },
      "backup": {
        "filePath": "~/.m2/settings.xml",
        "backupFileName": "settings.xml.backup",
        "backupOriginal": true
      }
    },
    {
      "id": "homebrew",
      "name": "Homebrew",
      "description": "The Missing Package Manager for macOS",
      "detection": {
        "command": "brew",
        "arguments": [
          "--version"
        ]
      },
      "sources": [
        {
          "id": "homebrew-official",
          "name": "官方源",
          "url": "https://github.com/Homebrew/brew",
          "description": "Homebrew 官方"
        },
        {
          "id": "homebrew-tsinghua",
          "name": "清华源",
          "url": "https://mirrors.tuna.tsinghua.edu.cn/git/homebrew/brew.git",
          "description": "清华大学镜像",
          "region": "CN"
        },
        {
          "id": "homebrew-ustc",
          "name": "中科大源",
          "url": "https://mirrors.ustc.edu.cn/brew.git",
          "description": "中科大镜像",
          "region": "CN"
        },
        {
          "id": "homebrew-tencent",
          "name": "腾讯云",
          "url": "https://mirrors.cloud.tencent.com/homebrew/brew.git",
          "description": "腾讯云镜像",
          "region": "CN"
        }
      ],
      "strategy": {
        "type": "command",
        "set": {
          "command": "git",
          "arguments": [
            "-C",
            "{{brew_prefix}}",
            "remote",
            "set-url",
            "origin",
            "{{url}}"
          ],
          "preCommands": [
            {
              "command": "brew",
              "arguments": [
                "--prefix"
              ],
              "captureAs": "brew_prefix",
              "outputParser": "trim"
            }
          ]
        },
        "get": {
          "command": "git",
          "arguments": [
            "-C",
            "{{brew_prefix}}",
            "remote",
            "-v"
          ],
          "outputParser": "extractUrl"
        }
      },
      "backup": {
        "filePath": "{{brew_prefix}}/.git/config",
        "backupFileName": "git.config.backup",
        "backupOriginal": true
      }
    },
    {
      "id": "orbstack",
      "name": "OrbStack",
      "description": "Docker Desktop alternative",
      "detection": {
        "command": "orb",
        "arguments": [
          "--version"
        ],
        "fallbackDetection": {
          "type": "file",
          "path": "/Applications/OrbStack.app"
        }
      },
      "sources": [
        {
          "id": "orbstack-official",
          "name": "官方源",
          "url": "https://docker.io",
          "description": "Docker Hub 官方"
        },
        {
          "id": "orbstack-aliyun",
          "name": "阿里云",
          "url": "https://registry.cn-hangzhou.aliyuncs.com",
          "description": "阿里云容器镜像",
          "region": "CN"
        },
        {
          "id": "orbstack-tencent",
          "name": "腾讯云",
          "url": "https://mirror.ccs.tencentyun.com",
          "description": "腾讯云容器镜像",
          "region": "CN"
        }
      ],
      "strategy": {
        "type": "jsonpath",
        "filePath": "~/.orbstack/config/docker.json",
        "set": {
          "jsonpath": "$.registry-mirrors",
          "value": [
            "{{url}}"
          ],
          "mergeStrategy": "replace",
          "ensureStructure": {
            "createIfMissing": true,
            "defaultStructure": "{\"registry-mirrors\":[\"{{url}}\"]}",
            "createParentDirectories": true
          }
        },
        "get": {
          "jsonpath": "$.registry-mirrors[0]"
        }
      },
      "backup": {
        "filePath": "~/.orbstack/config/docker.json",
        "backupFileName": "docker.json.backup",
        "backupOriginal": true
      }
    },
    {
      "id": "pip",
      "name": "PIP",
      "description": "Python Package Manager",
      "detection": {
        "command": "pip",
        "arguments": [
          "--version"
        ]
      },
      "sources": [
        {
          "id": "pip-official",
          "name": "官方源",
          "url": "https://pypi.org/simple/",
          "description": "PyPI 官方源"
        },
        {
          "id": "pip-tsinghua",
          "name": "清华源",
          "url": "https://pypi.tuna.tsinghua.edu.cn/simple/",
          "description": "清华大学镜像",
          "region": "CN"
        },
        {
          "id": "pip-aliyun",
          "name": "阿里云",
          "url": "https://mirrors.aliyun.com/pypi/simple/",
          "description": "阿里云镜像",
          "region": "CN"
        },
        {
          "id": "pip-tencent",
          "name": "腾讯云",
          "url": "https://mirrors.cloud.tencent.com/pypi/simple/",
          "description": "腾讯云镜像",
          "region": "CN"
        }
      ],
      "strategy": {
        "type": "command",
        "set": {
          "command": "pip",
          "arguments": [
            "config",
            "set",
            "global.index-url",
            "{{url}}"
          ]
        },
        "get": {
          "command": "pip",
          "arguments": [
            "config",
            "get",
            "global.index-url"
          ],
          "outputParser": "trim"
        }
      },
      "backup": {
        "filePath": "~/pip.conf",
        "backupFileName": "pip.conf.backup",
        "backupOriginal": true
      },
      "metadata": {
        "supportedPlatforms": [
          "macOS",
          "linux",
          "windows"
        ],
        "supportsSpeedTest": true,
        "documentationURL": "https://pip.pypa.io/"
      }
    },
    {
      "id": "gradle",
      "name": "Gradle",
      "description": "Apache Gradle",
      "detection": {
        "command": "gradle",
        "arguments": [
          "--version"
        ]
      },
      "sources": [
        {
          "id": "gradle-official",
          "name": "官方源",
          "url": "https://repo.maven.apache.org/maven2/",
          "description": "Maven 中央仓库"
        },
        {
          "id": "gradle-aliyun",
          "name": "阿里云",
          "url": "https://maven.aliyun.com/repository/public/",
          "description": "阿里云公共仓库",
          "region": "CN"
        },
        {
          "id": "gradle-tencent",
          "name": "腾讯云",
          "url": "https://mirrors.cloud.tencent.com/nexus/repository/maven-public/",
          "description": "腾讯云 Maven 仓库",
          "region": "CN"
        }
      ],
      "strategy": {
        "type": "keyvalue",
        "filePath": "~/.gradle/gradle.properties",
        "set": {
          "key": "systemProp.http.proxyHost",
          "value": "{{host}}",
          "comment": "# Added by MirrorSwitch"
        },
        "get": {
          "key": "systemProp.http.proxyHost"
        },
        "format": "properties"
      },
      "backup": {
        "filePath": "~/.gradle/gradle.properties",
        "backupFileName": "gradle.properties.backup",
        "backupOriginal": true
      }
    }
  ]
}
